{"version":3,"sources":["webpack:///./src/views/dashboard/customers/List.vue?19ca","webpack:///src/views/dashboard/customers/List.vue","webpack:///./src/views/dashboard/customers/List.vue?90a7","webpack:///./src/views/dashboard/customers/List.vue","webpack:///./src/api/customers.js","webpack:///./src/views/dashboard/customers/List.vue?171c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","proxy","staticStyle","model","value","listQuery","callback","$$v","$set","expression","villagesOptions","on","getQuery","_v","resetQuery","exportFields","getListforExport","_l","row","id","_s","_f","name","city_name","phone","description","$moment","create_at","format","last_update","icons","doc","color","$event","handleToDetails","domProps","icon","delete","removeCustomer","_e","circle","disabled","total_pages","nextIcon","prevIcon","totalVisible","page","paginationChangeHandler","timeout","snackbar","text","staticRenderFns","components","AddCustomerDialog","data","computed","isAdminRole","$store","getters","role","slug","created","getList","console","log","Date","now","methods","$router","push","params","listLoading","limit","setTimeout","exportItems","keyword","undefined","batch_code","$confirm","then","res","pageNumber","component","VBtn","VContainer","VIcon","VPagination","VRow","VSelect","VSimpleTable","VSnackbar","VSwitch","VTextField","fetchCustomers","query","request","url","method","fetchCustomer","createCustomer","updateCustomer","addContactorOrAddressByCustomer","deleteCustomer"],"mappings":"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","file":"js/chunk-5f4abe86.2847707c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"px-4 py-0\",attrs:{\"fluid\":\"\"},scopedSlots:_vm._u([{key:\"after-heading\",fn:function(){return undefined},proxy:true}])},[_c('v-row',{staticClass:\"d-flex justify-space-between mx-1\"},[_c('div',[_c('v-row',[_c('v-switch',{staticClass:\"mx-3\",staticStyle:{\"max-width\":\"100px\"},attrs:{\"label\":\"倒序\"},model:{value:(_vm.listQuery.orderby_id_desc),callback:function ($$v) {_vm.$set(_vm.listQuery, \"orderby_id_desc\", $$v)},expression:\"listQuery.orderby_id_desc\"}}),_c('v-select',{staticClass:\"mx-3\",staticStyle:{\"max-width\":\"80px\"},attrs:{\"items\":_vm.villagesOptions,\"item-text\":\"display_name\",\"item-value\":\"key\",\"menu-props\":\"auto\",\"hide-details\":\"\",\"label\":\"选择城市\",\"single-line\":\"\"},model:{value:(_vm.listQuery.village_id),callback:function ($$v) {_vm.$set(_vm.listQuery, \"village_id\", $$v)},expression:\"listQuery.village_id\"}}),_c('v-text-field',{staticClass:\"mx-3\",staticStyle:{\"max-width\":\"120px\"},attrs:{\"label\":\"公司或单位名称\",\"hide-details\":\"\",\"single-line\":\"\"},model:{value:(_vm.listQuery.keyword),callback:function ($$v) {_vm.$set(_vm.listQuery, \"keyword\", $$v)},expression:\"listQuery.keyword\"}})],1)],1),_c('div',[_c('v-row',{staticClass:\"mx-2 mb-3\"},[_c('v-btn',{staticClass:\"mx-1 my-2\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.getQuery}},[_vm._v(\" 查询 \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-magnify\")])],1),_c('v-btn',{staticClass:\"mx-1 mx-1 my-2\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.resetQuery}},[_vm._v(\" 重置 \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-lock-reset\")])],1),_c('export-excel',{attrs:{\"fields\":_vm.exportFields,\"worksheet\":\"客户数据\",\"name\":\"研一.xls\",\"fetch\":_vm.getListforExport}},[_c('v-btn',{staticClass:\"mx-1 mx-1 my-2\",attrs:{\"color\":\"primary\"}},[_vm._v(\" 导出 \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-down-bold-circle-outline\")])],1)],1),_c('div',[_c('add-customer-dialog')],1)],1)],1)]),_c('v-simple-table',{staticClass:\"pa-3\",attrs:{\"fixed-header\":\"\",\"height\":\"735px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',[_vm._v(\"ID\")]),_c('th',[_vm._v(\"客户名称\")]),_c('th',[_vm._v(\"所在城市\")]),_c('th',[_vm._v(\"公司电话\")]),_c('th',[_vm._v(\"综合描述\")]),_c('th',[_vm._v(\"创建时间\")]),_c('th',[_vm._v(\"最后更新\")])])]),_c('tbody',_vm._l((_vm.items),function(row){return _c('tr',{key:row.id},[_c('td',{staticClass:\"font-weight-light grey--text text-left\",staticStyle:{\"font-size\":\"11px\"}},[_vm._v(\" \"+_vm._s(row.id)+\" \")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(_vm._f(\"truncate\")(row.name,20))+\" \")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(row.city_name)+\" \")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(row.phone)+\" \")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(_vm._f(\"truncate\")(row.description,40))+\" \")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(_vm.$moment(row.create_at).format('YYYY-MM-DD HH:mm:ss'))+\" \")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(_vm.$moment(row.last_update).format('YYYY-MM-DD HH:mm:ss'))+\" \"),_c('v-btn',{attrs:{\"color\":_vm.icons.doc.color,\"icon\":\"\",\"fab\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.handleToDetails(row)}}},[_c('v-icon',{attrs:{\"right\":\"\"},domProps:{\"textContent\":_vm._s(_vm.icons.doc.icon)}})],1),(_vm.isAdminRole)?_c('v-btn',{attrs:{\"color\":_vm.icons.delete.color,\"icon\":\"\",\"fab\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.removeCustomer(row)}}},[_c('v-icon',{attrs:{\"right\":\"\"},domProps:{\"textContent\":_vm._s(_vm.icons.delete.icon)}})],1):_vm._e()],1)])}),0)]},proxy:true}])}),_c('v-pagination',{staticClass:\"my-3\",attrs:{\"circle\":_vm.circle,\"disabled\":_vm.disabled,\"length\":_vm.total_pages,\"next-icon\":_vm.nextIcon,\"prev-icon\":_vm.prevIcon,\"total-visible\":_vm.totalVisible,\"value\":_vm.listQuery.page},on:{\"input\":_vm.paginationChangeHandler},model:{value:(_vm.listQuery.page),callback:function ($$v) {_vm.$set(_vm.listQuery, \"page\", $$v)},expression:\"listQuery.page\"}}),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid class=\"px-4 py-0\">\n    <template v-slot:after-heading> </template>\n    <v-row class=\"d-flex justify-space-between mx-1\">\n      <div>\n        <v-row>\n          <v-switch\n            v-model=\"listQuery.orderby_id_desc\"\n            label=\"倒序\"\n            style=\"max-width: 100px;\"\n            class=\"mx-3\"\n          ></v-switch>\n\n          <v-select\n            v-model=\"listQuery.village_id\"\n            :items=\"villagesOptions\"\n            item-text=\"display_name\"\n            item-value=\"key\"\n            menu-props=\"auto\"\n            hide-details\n            label=\"选择城市\"\n            single-line\n            class=\"mx-3\"\n            style=\"max-width: 80px;\"\n          ></v-select>\n\n          <v-text-field\n            v-model=\"listQuery.keyword\"\n            label=\"公司或单位名称\"\n            hide-details\n            single-line\n            class=\"mx-3\"\n            style=\"max-width: 120px;\"\n          />\n        </v-row>\n      </div>\n      <div>\n        <v-row class=\"mx-2 mb-3\"\n          ><v-btn color=\"primary\" class=\"mx-1 my-2\" @click=\"getQuery\">\n            查询\n            <v-icon right>mdi-magnify</v-icon>\n          </v-btn>\n\n          <v-btn color=\"primary\" class=\"mx-1 mx-1 my-2\" @click=\"resetQuery\">\n            重置\n            <v-icon right>mdi-lock-reset</v-icon>\n          </v-btn>\n\n          <export-excel\n            :fields=\"exportFields\"\n            worksheet=\"客户数据\"\n            name=\"研一.xls\"\n            :fetch=\"getListforExport\"\n          >\n            <v-btn color=\"primary\" class=\"mx-1 mx-1 my-2\">\n              导出\n              <v-icon right>mdi-arrow-down-bold-circle-outline</v-icon>\n            </v-btn>\n          </export-excel>\n\n          <div>\n            <add-customer-dialog />\n          </div>\n        </v-row>\n      </div>\n    </v-row>\n\n    <v-simple-table fixed-header class=\"pa-3\" height=\"735px\">\n      <template v-slot:default>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>客户名称</th>\n            <th>所在城市</th>\n            <th>公司电话</th>\n            <th>综合描述</th>\n            <th>创建时间</th>\n            <th>最后更新</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"row in items\" :key=\"row.id\">\n            <td\n              class=\"font-weight-light grey--text text-left\"\n              style=\"font-size:11px\"\n            >\n              {{ row.id }}\n            </td>\n            <td class=\"text-left\">\n              {{ row.name | truncate(20) }}\n            </td>\n            <td class=\"text-left\">\n              {{ row.city_name }}\n            </td>\n            <td class=\"text-left\">\n              {{ row.phone }}\n            </td>\n            <td class=\"text-left\">\n              {{ row.description | truncate(40) }}\n            </td>\n            <td class=\"text-left\">\n              {{ $moment(row.create_at).format('YYYY-MM-DD HH:mm:ss') }}\n            </td>\n            <td class=\"text-left\">\n              {{ $moment(row.last_update).format('YYYY-MM-DD HH:mm:ss') }}\n              <v-btn\n                :color=\"icons.doc.color\"\n                icon\n                fab\n                x-small\n                @click=\"handleToDetails(row)\"\n              >\n                <v-icon right v-text=\"icons.doc.icon\" />\n              </v-btn>\n              <v-btn\n                v-if=\"isAdminRole\"\n                :color=\"icons.delete.color\"\n                icon\n                fab\n                x-small\n                @click=\"removeCustomer(row)\"\n              >\n                <v-icon right v-text=\"icons.delete.icon\" />\n              </v-btn>\n            </td>\n          </tr>\n        </tbody>\n      </template>\n    </v-simple-table>\n    <v-pagination\n      v-model=\"listQuery.page\"\n      :circle=\"circle\"\n      :disabled=\"disabled\"\n      :length=\"total_pages\"\n      :next-icon=\"nextIcon\"\n      :prev-icon=\"prevIcon\"\n      :total-visible=\"totalVisible\"\n      :value=\"listQuery.page\"\n      class=\"my-3\"\n      @input=\"paginationChangeHandler\"\n    ></v-pagination>\n    <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\n      {{ text }}\n    </v-snackbar>\n  </v-container>\n</template>\n\n<script>\nimport {\n  fetchCustomers,\n  // updateCustomer,\n  deleteCustomer,\n} from '@/api/customers'\n\nconst batchCodeOptions = []\n\nconst villagesOptions = []\n\nexport default {\n  name: 'Contracts',\n\n  components: {\n    AddCustomerDialog: () => import('./addCustomerDialog'),\n  },\n\n  data: () => ({\n    snackbar: false,\n    text: '',\n    timeout: 3000,\n    panel: [0, 1],\n    icons: {\n      doc: {\n        color: 'blue',\n        icon: 'mdi-file-document',\n      },\n      delete: {\n        color: 'warning',\n        icon: 'mdi-trash-can',\n      },\n    },\n    exportItems: [],\n    items: [],\n    listQuery: {\n      page: 1,\n      limit: 10,\n      keyword: undefined,\n      activity: undefined,\n      batch_code: undefined,\n      sort: '+id',\n      orderby_id_desc: undefined,\n    },\n    search: '',\n    awaitingSearch: false,\n    circle: true,\n    disabled: false,\n    length: 10,\n    nextIcon: 'mdi-chevron-right',\n    prevIcon: 'mdi-chevron-left',\n    totalVisible: 10,\n    total_pages: 0,\n    exportFields: {},\n\n    greenColor: 'rgb(81, 185, 116)',\n    warningColor: 'rgb(241, 211, 171)',\n    batchCodeOptions,\n    villagesOptions,\n  }),\n\n  computed: {\n    isAdminRole() {\n      if (this.$store.getters.role.slug === 'administrator') {\n        return true\n      } else {\n        return false\n      }\n    },\n  },\n\n  created() {\n    this.getList()\n    console.log(Date.now())\n  },\n\n  // events: {\n  //   eventGetlist: function(data) {\n  //     console.log('eventGetlist')\n  //   }\n  // },\n  // watch: {\n  //     search: function (val) {\n  //       if (!this.awaitingSearch) {\n  //         setTimeout(() => {\n  //           this.getList()\n  //           this.awaitingSearch = false\n  //         }, 1500); // 1 sec delay\n  //       }\n  //       this.awaitingSearch = true\n  //     },\n  //   },\n  methods: {\n    handleToDetails(row) {\n      this.$router.push({\n        name: 'CustomerDetails',\n        params: { id: row.id },\n      })\n    },\n    getQuery() {\n      this.listQuery.page = 1\n      this.getList()\n    },\n\n    getList() {\n      this.listLoading = true\n      this.listQuery.limit = 10\n      // this.listQuery.keyword = this.search\n\n      fetchCustomers(this.listQuery).then(response => {\n        this.items = response.data.items\n        this.total_pages = response.data._meta.total_pages\n\n        // Just to simulate the time of the request\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1.5 * 1000)\n      })\n    },\n\n    getListforExport() {\n      this.listLoading = true\n      this.listQuery.limit = 10000\n      fetchCustomers(this.listQuery).then(response => {\n        this.exportItems = response.data.items\n        // Just to simulate the time of the request\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1.5 * 1000)\n      })\n      return this.exportItems\n    },\n\n    resetQuery() {\n      this.listQuery.keyword = undefined\n      this.listQuery.batch_code = undefined\n      this.listQuery.limit = 10\n    },\n\n    removeCustomer(row) {\n      this.$confirm('确认删除客户档案?').then(res => {\n        if (res) {\n          deleteCustomer(row.id).then(response => {\n            this.getList()\n            // Just to simulate the time of the request\n            this.text = '客户档案删除成功！'\n            this.snackbar = true\n          })\n        }\n      })\n    },\n    paginationChangeHandler(pageNumber) {\n      this.listQuery.page = pageNumber\n      this.getList()\n    },\n    // reset() {\n    //   this.$refs.form.reset()\n    // },\n    // resetValidation() {\n    //   this.$refs.form.resetValidation()\n    // },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\nth {\n  font-size: 12px !important;\n  font-weight: 800;\n}\n\n// .background-transparent {\n//   background-color: transparent !important;\n// }\n\ntr:hover {\n  background-color: #43b4dd !important;\n  color: rgb(255, 255, 255);\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=1a637fcb&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=1a637fcb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a637fcb\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VIcon,VPagination,VRow,VSelect,VSimpleTable,VSnackbar,VSwitch,VTextField})\n","import request from '@/utils/request'\r\n\r\nexport function fetchCustomers(query) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'get',\r\n    params: query,\r\n  })\r\n}\r\n\r\nexport function fetchCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\nexport function createCustomer(data) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'post',\r\n    data,\r\n  })\r\n}\r\n\r\nexport function updateCustomer(id, data) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'put',\r\n    data,\r\n  })\r\n}\r\n\r\nexport function addContactorOrAddressByCustomer(id, data) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'post',\r\n    data,\r\n  })\r\n}\r\n\r\nexport function deleteCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'delete',\r\n  })\r\n}\r\n\r\nexport function fetchCustomersList() {\r\n  return request({\r\n    url: '/customerslist',\r\n    method: 'get',\r\n  })\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=1a637fcb&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=1a637fcb&lang=scss&scoped=true&\""],"sourceRoot":""}