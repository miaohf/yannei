(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fe9e3ad"],{8024:function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return r})),a.d(e,"f",(function(){return d}));var i=a("b775");function s(){return Object(i["a"])({url:"/selections/provinces",method:"get"})}function n(t){return Object(i["a"])({url:"/selections/cities/".concat(t),method:"get"})}function o(){return Object(i["a"])({url:"/selections/customers",method:"get"})}function c(t){return Object(i["a"])({url:"/selections/contactors/".concat(t),method:"get"})}function r(t){return Object(i["a"])({url:"/selections/addresses/".concat(t),method:"get"})}function d(){return Object(i["a"])({url:"/selections/visittypes",method:"get"})}},"89ea9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"1000"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mx-1 my-2",attrs:{color:"green",dark:""}},"v-btn",s,!1),i),[t._v(" 新建 "),a("v-icon",{attrs:{right:""}},[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"pt-10"},[a("div",{staticClass:"px-6 pb-5",attrs:{height:"800px"}},[a("v-card-title",{staticClass:"pb-10"},[a("h1",[t._v("拜访日志")])]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:t.customers,"item-text":"name","item-value":"id",label:"客户名称",placeholder:"选择公司或单位","prepend-icon":"mdi-database-search"},on:{change:function(e){return t.updateContactorsAndAddresses(e,t.temp.customer_id)}},model:{value:t.temp.customer_id,callback:function(e){t.$set(t.temp,"customer_id",e)},expression:"temp.customer_id"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{items:t.addresses,"item-text":"name","item-value":"id",label:"地址",placeholder:"本次拜访的客户地址","prepend-icon":"mdi-account-search-outline"},model:{value:t.temp.address_id,callback:function(e){t.$set(t.temp,"address_id",e)},expression:"temp.address_id"}})],1)],1),a("v-row",[a("v-col",[a("v-autocomplete",{attrs:{items:t.contactors,"item-text":"name","item-value":"id",label:"联系人",placeholder:"本次拜访接待人员","prepend-icon":"mdi-account-search-outline",multiple:"",chips:""},model:{value:t.temp.contactorids,callback:function(e){t.$set(t.temp,"contactorids",e)},expression:"temp.contactorids"}})],1)],1),a("v-text-field",{attrs:{color:"yellow darken-3",label:"标题",hint:"简述此次拜访目的和内容",required:""},model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}}),a("v-textarea",{attrs:{color:"yellow darken-3",label:"描述拜访经过和成果",hint:"",required:"","auto-grow":""},model:{value:t.temp.description,callback:function(e){t.$set(t.temp,"description",e)},expression:"temp.description"}}),a("v-row",[a("v-spacer"),a("span",{staticClass:"mt-6 mx-3",staticStyle:{"font-size":"14px"}},[t._v(" 技术支持"),a("span",{staticClass:"yanei ml-1 mr-7"},[t._v("研一智控")])])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.cancelAddDialog}},[t._v("取消")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.confirmAddDialog}},[t._v("确认")])],1)],1)])],1)],1)},s=[],n=a("1a68"),o=a("8024"),c={name:"AddVisitDialog",components:{},data:function(){return{customers:[],contactors:[],addresses:[],visittypes:[],dialog:!1,editdialog:!1,temp:{title:"",description:"",visittype_id:"",customer_id:"",address_id:"",contactorids:[]}}},watch:{isUpdating:function(t){var e=this;t&&setTimeout((function(){return e.isUpdating=!1}),3e3)}},mounted:function(){},created:function(){this.getCustomersList()},methods:{getCustomersList:function(){var t=this;Object(o["d"])().then((function(e){t.customers=e.data.items,setTimeout((function(){t.listLoading=!1}),1500)}))},getContactorsListbyCustomerId:function(t){var e=this;Object(o["c"])(t).then((function(t){e.contactors=t.data.items,setTimeout((function(){e.listLoading=!1}),1500)}))},getAddressesListbyCustomerId:function(t){var e=this;Object(o["a"])(t).then((function(t){e.addresses=t.data.items,setTimeout((function(){e.listLoading=!1}),1500)}))},confirmAddDialog:function(){var t=this,e=this.temp;Object(n["a"])(e).then((function(){t.dialog=!1,t.temp={},t.$parent.getList()}))},cancelAddDialog:function(){this.dialog=!1,this.temp={}},updateContactorsAndAddresses:function(t,e){this.getContactorsListbyCustomerId(e),this.getAddressesListbyCustomerId(e)}}},r=c,d=a("2877"),l=a("6544"),u=a.n(l),m=a("c6a6"),p=a("8336"),f=a("b0af"),v=a("99d9"),h=a("62ad"),b=a("a523"),g=a("169a"),_=a("132d"),C=a("0fd9"),x=a("2fa4"),k=a("8654"),w=a("a844"),y=Object(d["a"])(r,i,s,!1,null,"9c406898",null);e["default"]=y.exports;u()(y,{VAutocomplete:m["a"],VBtn:p["a"],VCard:f["a"],VCardActions:v["b"],VCardTitle:v["e"],VCol:h["a"],VContainer:b["a"],VDialog:g["a"],VIcon:_["a"],VRow:C["a"],VSpacer:x["a"],VTextField:k["a"],VTextarea:w["a"]})}}]);
//# sourceMappingURL=chunk-0fe9e3ad.6292a855.js.map