{"version":3,"sources":["webpack:///./src/api/customers.js","webpack:///./src/views/dashboard/customers/Details.vue?00ee","webpack:///./src/views/dashboard/customers/Details.vue?70c4","webpack:///src/views/dashboard/customers/Details.vue","webpack:///./src/views/dashboard/customers/Details.vue?e4ff","webpack:///./src/views/dashboard/customers/Details.vue?abbb"],"names":["fetchCustomers","query","request","url","method","params","fetchCustomer","id","createCustomer","data","updateCustomer","addContactorOrAddressByCustomer","deleteCustomer","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","proxy","directives","name","rawName","value","isEdit","expression","on","$event","_v","cancelEdit","confirmEdit","model","temp","callback","$$v","$set","fetchData","contactors","length","_l","item","i","title","_s","mobile","phone","position","age","sex","email","wechatid","education_level","graduated_school","spouse_detail","child_detail","office_address","description","addresses","department","address_info","province","city","staticRenderFns","components","AddContactorDialog","AddAddressDialog","filters","statusFilter","published","draft","deleted","statusMap","status","listLoading","provinces","cities","details","rules","users","computed","isAdminRole","$store","getters","roles","includes","created","methods","goBack","$router","go","setTimeout","getNamefromOptions","options","forEach","showname","display_name","getSortClass","sort","component","VBadge","VBtn","VCard","VCardActions","VCol","VContainer","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VIcon","VListItem","VListItemContent","VList","VListItemSubtitle","VListItemTitle","VRow","VSpacer","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-826d53b8.f64b19e5.js","sourcesContent":["import request from '@/utils/request'\r\n\r\nexport function fetchCustomers(query) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'get',\r\n    params: query,\r\n  })\r\n}\r\n\r\nexport function fetchCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\nexport function createCustomer(data) {\r\n  return request({\r\n    url: '/customers',\r\n    method: 'post',\r\n    data,\r\n  })\r\n}\r\n\r\nexport function updateCustomer(id, data) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'put',\r\n    data,\r\n  })\r\n}\r\n\r\nexport function addContactorOrAddressByCustomer(id, data) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'post',\r\n    data,\r\n  })\r\n}\r\n\r\nexport function deleteCustomer(id) {\r\n  return request({\r\n    url: `/customers/${id}`,\r\n    method: 'delete',\r\n  })\r\n}\r\n\r\nexport function fetchCustomersList() {\r\n  return request({\r\n    url: '/customerslist',\r\n    method: 'get',\r\n  })\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&id=c567d988&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&id=c567d988&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"px-4 py-0\",attrs:{\"fluid\":\"\"},scopedSlots:_vm._u([{key:\"after-heading\",fn:function(){return undefined},proxy:true}])},[_c('v-card',{staticClass:\"pt-5\",attrs:{\"min-height\":\"760px\"}},[_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit),expression:\"!isEdit\"}],attrs:{\"color\":\"red\"},on:{\"click\":function($event){_vm.isEdit = !_vm.isEdit}}},[_vm._v(\"修改\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-text-box-edit\")])],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}],attrs:{\"color\":\"info\"},on:{\"click\":_vm.cancelEdit}},[_c('v-icon',[_vm._v(\"mdi-close-outline \")])],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}],attrs:{\"color\":\"green\"},on:{\"click\":_vm.confirmEdit}},[_c('v-icon',{attrs:{\"text\":\"\"}},[_vm._v(\"mdi-check-outline\")])],1)],1),_c('div',{staticClass:\"px-5 pb-5\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c('v-text-field',{staticClass:\"mx-6\",attrs:{\"color\":\"yellow darken-3\",\"label\":\"客户名称\",\"required\":\"\",\"disabled\":!_vm.isEdit,\"prepend-icon\":\"mdi-account-search\"},model:{value:(_vm.temp.name),callback:function ($$v) {_vm.$set(_vm.temp, \"name\", $$v)},expression:\"temp.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c('v-text-field',{staticClass:\"mx-6\",attrs:{\"color\":\"yellow darken-3\",\"label\":\"公司电话\",\"hint\":\"请填写客户前台座机号码\",\"required\":\"\",\"disabled\":!_vm.isEdit,\"prepend-icon\":\"mdi-phone-classic\"},model:{value:(_vm.temp.phone),callback:function ($$v) {_vm.$set(_vm.temp, \"phone\", $$v)},expression:\"temp.phone\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-textarea',{staticClass:\"mx-6\",attrs:{\"color\":\"yellow darken-3\",\"label\":\"主营业务、客户概况、合作意向\",\"hint\":\"\",\"required\":\"\",\"disabled\":!_vm.isEdit,\"prepend-icon\":\"mdi-text-search\",\"auto-grow\":\"\"},model:{value:(_vm.temp.description),callback:function ($$v) {_vm.$set(_vm.temp, \"description\", $$v)},expression:\"temp.description\"}})],1)],1),_c('v-row',{staticClass:\"mx-5\"},[_c('v-expansion-panels',{attrs:{\"accordion\":\"\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}]},[_c('add-contactor-dialog',{on:{\"fetchData\":_vm.fetchData}})],1),_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-account-circle\")]),_c('v-badge',{attrs:{\"color\":\"primary\",\"content\":_vm.temp.contactors.length}},[_vm._v(\" 联系人 \")])],1)]),_c('v-expansion-panel-content',_vm._l((_vm.temp.contactors),function(item,i){return _c('span',{key:item.title},[[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"primary\"}},[_vm._v(\"mdi-numeric-\"+_vm._s(i + 1)+\"-circle-outline \")]),_vm._v(_vm._s(item.name))],1),_c('v-list-item-subtitle'),_c('v-expansion-panel-content',[_vm._v(\" MOB: \"+_vm._s(item.mobile)+\"; PHO: \"+_vm._s(item.phone)+\"; POS: \"+_vm._s(item.position)+\"; AGE: \"+_vm._s(item.age)+\"; SEX: \"+_vm._s(item.sex)+\"; EML:\"+_vm._s(item.email)+\"; WEC: \"+_vm._s(item.wechatid)+\"; EDU：\"+_vm._s(item.education_level)+\"; SCH: \"+_vm._s(item.graduated_school)+\"; SPO: \"+_vm._s(item.spouse_detail)+\"; CHL: \"+_vm._s(item.child_detail)+\"; ADR：\"+_vm._s(item.office_address)+\"; DES: \"+_vm._s(item.description)+\" \")])],1)],1)]],2)}),0)],1)],1),_c('v-expansion-panels',{attrs:{\"accordion\":\"\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}]},[_c('add-address-dialog',{on:{\"fetchData\":_vm.fetchData}})],1),_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-map-marker\")]),_c('v-badge',{attrs:{\"color\":\"blue\",\"content\":_vm.temp.addresses.length}},[_vm._v(\" 地址 \")])],1)]),_c('v-expansion-panel-content',_vm._l((_vm.temp.addresses),function(item,i){return _c('span',{key:item.title},[[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"blue\"}},[_vm._v(\"mdi-numeric-\"+_vm._s(i + 1)+\"-circle-outline \")]),_vm._v(_vm._s(item.department))],1),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(item.address_info)+\";\"+_vm._s(item.description)+\"; \"+_vm._s(item.province.name)+\";\"+_vm._s(item.city.name))])],1)],1)]],2)}),0)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid class=\"px-4 py-0\">\r\n    <template v-slot:after-heading> </template>\r\n    <v-card class=\"pt-5\" min-height=\"760px\">\r\n      <v-card-actions>\r\n        <v-spacer />\r\n\r\n        <v-btn v-show=\"!isEdit\" color=\"red\" @click=\"isEdit = !isEdit\"\r\n          >修改<v-icon right>mdi-text-box-edit</v-icon>\r\n        </v-btn>\r\n        <v-btn v-show=\"isEdit\" color=\"info\" @click=\"cancelEdit\"\r\n          ><v-icon>mdi-close-outline </v-icon></v-btn\r\n        >\r\n        <v-btn v-show=\"isEdit\" color=\"green\" @click=\"confirmEdit\"\r\n          ><v-icon text>mdi-check-outline</v-icon>\r\n        </v-btn>\r\n      </v-card-actions>\r\n      <div class=\"px-5 pb-5\">\r\n        <v-row>\r\n          <v-col cols=\"12\" sm=\"4\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"temp.name\"\r\n              color=\"yellow darken-3\"\r\n              label=\"客户名称\"\r\n              required\r\n              class=\"mx-6\"\r\n              :disabled=\"!isEdit\"\r\n              prepend-icon=\"mdi-account-search\"\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\" sm=\"4\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"temp.phone\"\r\n              color=\"yellow darken-3\"\r\n              label=\"公司电话\"\r\n              hint=\"请填写客户前台座机号码\"\r\n              required\r\n              class=\"mx-6\"\r\n              :disabled=\"!isEdit\"\r\n              prepend-icon=\"mdi-phone-classic\"\r\n            ></v-text-field>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <v-textarea\r\n              v-model=\"temp.description\"\r\n              color=\"yellow darken-3\"\r\n              label=\"主营业务、客户概况、合作意向\"\r\n              hint=\"\"\r\n              required\r\n              class=\"mx-6\"\r\n              :disabled=\"!isEdit\"\r\n              prepend-icon=\"mdi-text-search\"\r\n              auto-grow\r\n            ></v-textarea>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-row class=\"mx-5\">\r\n          <v-expansion-panels accordion>\r\n            <v-expansion-panel>\r\n              <v-expansion-panel-header>\r\n                <div>\r\n                  <span v-show=\"isEdit\">\r\n                    <add-contactor-dialog @fetchData=\"fetchData\"\r\n                  /></span>\r\n                  <v-icon left>mdi-account-circle</v-icon>\r\n\r\n                  <v-badge color=\"primary\" :content=\"temp.contactors.length\">\r\n                    联系人\r\n                  </v-badge>\r\n                </div>\r\n              </v-expansion-panel-header>\r\n\r\n              <v-expansion-panel-content>\r\n                <span v-for=\"(item, i) in temp.contactors\" :key=\"item.title\">\r\n                  <template>\r\n                    <v-list-item>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>\r\n                          <v-icon left color=\"primary\"\r\n                            >mdi-numeric-{{ i + 1 }}-circle-outline </v-icon\r\n                          >{{ item.name }}</v-list-item-title\r\n                        >\r\n                        <v-list-item-subtitle> </v-list-item-subtitle>\r\n                        <v-expansion-panel-content>\r\n                          MOB: {{ item.mobile }}; PHO: {{ item.phone }}; POS:\r\n                          {{ item.position }}; AGE: {{ item.age }}; SEX:\r\n                          {{ item.sex }}; EML:{{ item.email }}; WEC:\r\n                          {{ item.wechatid }}; EDU：{{ item.education_level }};\r\n                          SCH: {{ item.graduated_school }}; SPO:\r\n                          {{ item.spouse_detail }}; CHL:\r\n                          {{ item.child_detail }}; ADR：{{\r\n                            item.office_address\r\n                          }}; DES: {{ item.description }}\r\n                        </v-expansion-panel-content>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </template>\r\n                </span>\r\n              </v-expansion-panel-content>\r\n            </v-expansion-panel>\r\n          </v-expansion-panels>\r\n\r\n          <v-expansion-panels accordion>\r\n            <v-expansion-panel>\r\n              <v-expansion-panel-header>\r\n                <div>\r\n                  <span v-show=\"isEdit\">\r\n                    <add-address-dialog @fetchData=\"fetchData\"\r\n                  /></span>\r\n                  <v-icon left>mdi-map-marker</v-icon>\r\n                  <v-badge color=\"blue\" :content=\"temp.addresses.length\">\r\n                    地址\r\n                  </v-badge>\r\n                </div>\r\n              </v-expansion-panel-header>\r\n\r\n              <v-expansion-panel-content>\r\n                <span v-for=\"(item, i) in temp.addresses\" :key=\"item.title\">\r\n                  <template>\r\n                    <v-list-item>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>\r\n                          <v-icon left color=\"blue\"\r\n                            >mdi-numeric-{{ i + 1 }}-circle-outline </v-icon\r\n                          >{{ item.department }}</v-list-item-title\r\n                        >\r\n                        <v-list-item-subtitle>\r\n                          {{ item.address_info }};{{ item.description }};\r\n                          {{ item.province.name }};{{\r\n                            item.city.name\r\n                          }}</v-list-item-subtitle\r\n                        >\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </template>\r\n                </span>\r\n              </v-expansion-panel-content>\r\n            </v-expansion-panel>\r\n          </v-expansion-panels>\r\n        </v-row>\r\n\r\n        <!-- <v-row v-show=\"isEdit\" class=\"mx-5 mt-12\">\r\n          <v-spacer></v-spacer>\r\n          <add-contactor-dialog />\r\n          <add-address-dialog />\r\n        </v-row> -->\r\n      </div>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { fetchCustomer, updateCustomer } from '@/api/customers'\r\n\r\nexport default {\r\n  name: 'ContactorDetails',\r\n  components: {\r\n    AddContactorDialog: () => import('./addContactorDialog'),\r\n    AddAddressDialog: () => import('./addAddressDialog'),\r\n  },\r\n  filters: {\r\n    statusFilter(status) {\r\n      const statusMap = {\r\n        published: 'success',\r\n        draft: 'info',\r\n        deleted: 'danger',\r\n      }\r\n      return statusMap[status]\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      listLoading: false,\r\n      provinces: [],\r\n      cities: [],\r\n      details: null,\r\n      temp: {\r\n        contactors: [],\r\n        addresses: [],\r\n      },\r\n      rules: {},\r\n      users: [],\r\n      isEdit: false,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    isAdminRole() {\r\n      if (this.$store.getters.roles.includes('admin')) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1)\r\n    },\r\n\r\n    fetchData() {\r\n      this.listLoading = true\r\n      const id = this.$route.params && this.$route.params.id\r\n      fetchCustomer(id).then(response => {\r\n        this.temp = response.data\r\n        // this.getCitiesListByProvinceId(this.temp.province_id)\r\n        setTimeout(() => {\r\n          this.listLoading = false\r\n        }, 5 * 1000)\r\n      })\r\n    },\r\n\r\n    confirmEdit() {\r\n      this.listLoading = true\r\n      const id = this.$route.params && this.$route.params.id\r\n      updateCustomer(id, this.temp).then(response => {\r\n        this.temp = response.data\r\n        setTimeout(() => {\r\n          this.listLoading = false\r\n        }, 5 * 1000)\r\n      })\r\n      this.isEdit = !this.isEdit\r\n    },\r\n\r\n    getNamefromOptions(options, key) {\r\n      // return options[key]\r\n      let showname = ''\r\n      options.forEach(item => {\r\n        if (item.key === key) {\r\n          // console.log(key, item.key, item.display_name)\r\n          showname = item.display_name\r\n        }\r\n      })\r\n      return showname\r\n    },\r\n\r\n    cancelEdit() {\r\n      this.isEdit = !this.isEdit\r\n      this.fetchData()\r\n    },\r\n\r\n    getSortClass: function(key) {\r\n      const sort = this.listQuery.sort\r\n      return sort === `+${key}` ? 'ascending' : 'descending'\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n/* .v-overflow-btn .v-input__slot::before {\r\n  border-color: grey !important;\r\n} */\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=c567d988&scoped=true&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&id=c567d988&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c567d988\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBadge,VBtn,VCard,VCardActions,VCol,VContainer,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VTextField,VTextarea})\n"],"sourceRoot":""}