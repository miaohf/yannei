(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-826d53b8"],{7043:function(t,e,n){},9671:function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return d}));var i=n("b775");function s(t){return Object(i["a"])({url:"/customers",method:"get",params:t})}function a(t){return Object(i["a"])({url:"/customers/".concat(t),method:"get"})}function o(t){return Object(i["a"])({url:"/customers",method:"post",data:t})}function r(t,e){return Object(i["a"])({url:"/customers/".concat(t),method:"put",data:e})}function c(t,e){return Object(i["a"])({url:"/customers/".concat(t),method:"post",data:e})}function d(t){return Object(i["a"])({url:"/customers/".concat(t),method:"delete"})}},b9f7:function(t,e,n){"use strict";var i=n("7043"),s=n.n(i);s.a},e15b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"px-4 py-0",attrs:{fluid:""},scopedSlots:t._u([{key:"after-heading",fn:function(){},proxy:!0}])},[n("v-card",{staticClass:"pt-5",attrs:{"min-height":"760px"}},[n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],attrs:{color:"red"},on:{click:function(e){t.isEdit=!t.isEdit}}},[t._v("修改"),n("v-icon",{attrs:{right:""}},[t._v("mdi-text-box-edit")])],1),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{color:"info"},on:{click:t.cancelEdit}},[n("v-icon",[t._v("mdi-close-outline ")])],1),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{color:"green"},on:{click:t.confirmEdit}},[n("v-icon",{attrs:{text:""}},[t._v("mdi-check-outline")])],1)],1),n("div",{staticClass:"px-5 pb-5"},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-text-field",{staticClass:"mx-6",attrs:{color:"yellow darken-3",label:"客户名称",required:"",disabled:!t.isEdit,"prepend-icon":"mdi-account-search"},model:{value:t.temp.name,callback:function(e){t.$set(t.temp,"name",e)},expression:"temp.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-text-field",{staticClass:"mx-6",attrs:{color:"yellow darken-3",label:"公司电话",hint:"请填写客户前台座机号码",required:"",disabled:!t.isEdit,"prepend-icon":"mdi-phone-classic"},model:{value:t.temp.phone,callback:function(e){t.$set(t.temp,"phone",e)},expression:"temp.phone"}})],1)],1),n("v-row",[n("v-col",[n("v-textarea",{staticClass:"mx-6",attrs:{color:"yellow darken-3",label:"主营业务、客户概况、合作意向",hint:"",required:"",disabled:!t.isEdit,"prepend-icon":"mdi-text-search","auto-grow":""},model:{value:t.temp.description,callback:function(e){t.$set(t.temp,"description",e)},expression:"temp.description"}})],1)],1),n("v-row",{staticClass:"mx-5"},[n("v-expansion-panels",{attrs:{accordion:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[n("div",[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}]},[n("add-contactor-dialog",{on:{fetchData:t.fetchData}})],1),n("v-icon",{attrs:{left:""}},[t._v("mdi-account-circle")]),n("v-badge",{attrs:{color:"primary",content:t.temp.contactors.length}},[t._v(" 联系人 ")])],1)]),n("v-expansion-panel-content",t._l(t.temp.contactors,(function(e,i){return n("span",{key:e.title},[[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[n("v-icon",{attrs:{left:"",color:"primary"}},[t._v("mdi-numeric-"+t._s(i+1)+"-circle-outline ")]),t._v(t._s(e.name))],1),n("v-list-item-subtitle"),n("v-expansion-panel-content",[t._v(" MOB: "+t._s(e.mobile)+"; PHO: "+t._s(e.phone)+"; POS: "+t._s(e.position)+"; AGE: "+t._s(e.age)+"; SEX: "+t._s(e.sex)+"; EML:"+t._s(e.email)+"; WEC: "+t._s(e.wechatid)+"; EDU："+t._s(e.education_level)+"; SCH: "+t._s(e.graduated_school)+"; SPO: "+t._s(e.spouse_detail)+"; CHL: "+t._s(e.child_detail)+"; ADR："+t._s(e.office_address)+"; DES: "+t._s(e.description)+" ")])],1)],1)]],2)})),0)],1)],1),n("v-expansion-panels",{attrs:{accordion:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[n("div",[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}]},[n("add-address-dialog",{on:{fetchData:t.fetchData}})],1),n("v-icon",{attrs:{left:""}},[t._v("mdi-map-marker")]),n("v-badge",{attrs:{color:"blue",content:t.temp.addresses.length}},[t._v(" 地址 ")])],1)]),n("v-expansion-panel-content",t._l(t.temp.addresses,(function(e,i){return n("span",{key:e.title},[[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[n("v-icon",{attrs:{left:"",color:"blue"}},[t._v("mdi-numeric-"+t._s(i+1)+"-circle-outline ")]),t._v(t._s(e.department))],1),n("v-list-item-subtitle",[t._v(" "+t._s(e.address_info)+";"+t._s(e.description)+"; "+t._s(e.province.name)+";"+t._s(e.city.name))])],1)],1)]],2)})),0)],1)],1)],1)],1)],1)],1)},s=[],a=(n("4160"),n("caad"),n("4e827"),n("d3b7"),n("2532"),n("159b"),n("9671")),o={name:"ContactorDetails",components:{AddContactorDialog:function(){return n.e("chunk-2d21d0d1").then(n.bind(null,"d03b"))},AddAddressDialog:function(){return n.e("chunk-3a66fb5e").then(n.bind(null,"efd2"))}},filters:{statusFilter:function(t){var e={published:"success",draft:"info",deleted:"danger"};return e[t]}},data:function(){return{listLoading:!1,provinces:[],cities:[],details:null,temp:{contactors:[],addresses:[]},rules:{},users:[],isEdit:!1}},computed:{isAdminRole:function(){return!!this.$store.getters.roles.includes("admin")}},created:function(){this.fetchData()},methods:{goBack:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.listLoading=!0;var e=this.$route.params&&this.$route.params.id;Object(a["d"])(e).then((function(e){t.temp=e.data,setTimeout((function(){t.listLoading=!1}),5e3)}))},confirmEdit:function(){var t=this;this.listLoading=!0;var e=this.$route.params&&this.$route.params.id;Object(a["f"])(e,this.temp).then((function(e){t.temp=e.data,setTimeout((function(){t.listLoading=!1}),5e3)})),this.isEdit=!this.isEdit},getNamefromOptions:function(t,e){var n="";return t.forEach((function(t){t.key===e&&(n=t.display_name)})),n},cancelEdit:function(){this.isEdit=!this.isEdit,this.fetchData()},getSortClass:function(t){var e=this.listQuery.sort;return e==="+".concat(t)?"ascending":"descending"}}},r=o,c=(n("b9f7"),n("2877")),d=n("6544"),l=n.n(d),u=n("4ca6"),m=n("8336"),p=n("b0af"),v=n("99d9"),f=n("62ad"),h=n("a523"),b=n("cd55"),_=n("49e2"),x=n("c865"),E=n("0393"),g=n("132d"),w=n("da13"),k=n("5d23"),C=n("0fd9"),V=n("2fa4"),y=n("8654"),O=n("a844"),D=Object(c["a"])(r,i,s,!1,null,"c567d988",null);e["default"]=D.exports;l()(D,{VBadge:u["a"],VBtn:m["a"],VCard:p["a"],VCardActions:v["b"],VCol:f["a"],VContainer:h["a"],VExpansionPanel:b["a"],VExpansionPanelContent:_["a"],VExpansionPanelHeader:x["a"],VExpansionPanels:E["a"],VIcon:g["a"],VListItem:w["a"],VListItemContent:k["g"],VListItemSubtitle:k["j"],VListItemTitle:k["k"],VRow:C["a"],VSpacer:V["a"],VTextField:y["a"],VTextarea:O["a"]})}}]);
//# sourceMappingURL=chunk-826d53b8.f64b19e5.js.map